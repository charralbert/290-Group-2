      <!DOCTYPE html>
<html>
   <head>
       <title>Live Stream with Audio</title>
       <style>
           body {
               margin: 0;
               padding: 0;
               font-family: Arial, sans-serif;
               overflow: hidden;
           }
           .video-container {
               position: relative;
               width: 100vw;
               height: 100vh;
               overflow: hidden;
           }
           .info-bar {
               position: absolute;
               top: 0;
               left: 0;
               width: 100%;
               height: 100px;
               background-color: rgba(173, 216, 230, 0.7);
               color: white;
               display: flex;
               align-items: center;
               justify-content: space-between;
               padding: 0 20px;
               font-size: 28px;
               z-index: 10;
               box-sizing: border-box;
           }
           .live-stream {
               position: absolute;
               top: 0;
               left: 0;
               width: 100%;
               height: 100%;
               object-fit: cover;
           }
           .brand {
               font-weight: bold;
           }
           .volume-bar {
               position: absolute;
               bottom: 20px;
               left: 20px;
               width: 300px;
               height: 40px;
               background-color: #ccc;
               border-radius: 5px;
               box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.5);
           }
           .volume-fill {
               height: 100%;
               background-color: #4caf50;
               border-radius: 5px;
               transition: width 0.1s ease;
           }
       </style>
   </head>
   <body>
       <div class="video-container">
           <div class="info-bar">
               <span class="brand">Live Stream</span>
               <span id="details">FPS: {{ fps }} | Timestamp: --:--:--</span>
           </div>
           <img class="live-stream" src="/video_feed" alt="Live Stream">
           <div class="volume-bar">
               <div id="volume-fill" class="volume-fill" style="width: 0%;"></div>
           </div>
       </div>
       <script>
           // Update the timestamp dynamically
           function updateTimestamp() {
               const detailsElement = document.getElementById("details");
               const now = new Date();

               const formattedTime = now.toISOString().split('T')[0] +
                   ' ' +
                   now.toLocaleTimeString();

               const currentText = detailsElement.textContent;
               const fpsText = currentText.split('|')[0].trim(); // Extract FPS part
               detailsElement.textContent = `${fpsText} | Timestamp: ${formattedTime}`;
           }

           function updateVolumeBar(volume) {
               const volumeBar = document.getElementById('volume-fill');
               volumeBar.style.width = (volume * 100) + '%';
           }

           // Simulate getting volume data (in a real scenario, this would be updated dynamically via websocket or polling)
           let volume = 0.0;

           setInterval(() => {
               // Replace this with real API call to get the actual audio volume
               volume = Math.random(); // Simulating volume change
               updateVolumeBar(volume);
           }, 100);

           // Update the timestamp every second
           setInterval(updateTimestamp, 1000);
           updateTimestamp();

           // Notify the server when the page is loaded and closed
           window.addEventListener('load', () => {
               fetch('/start_audio', { method: 'POST' });
           });

           window.addEventListener('beforeunload', () => {
               fetch('/stop_audio', { method: 'POST' });
           });
       </script>
   </body>
</html>